gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), fill=factor(wards_map$group), alpha=0.3)
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue")
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill="white", size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), colour=wards_map$group, fill='white', inherit.aes = FALSE)
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), fill=factor(wards_map$group), alpha=0.3)
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color="darkblue")
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill="white", size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
gg
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$group), fill=factor(wards_map$group), alpha=0.3)
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color="darkblue")
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill="white", size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
boundary_map <- fortify(dcboundary)
boundary_map <- fortify(dcboundary)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$group), fill=factor(wards_map$group), alpha=0.3)
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color="darkblue")
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill="white", size=0.25)
gg <- gg + geom_map(data=boundary_map, map=boundary_map,
aes(x=long, y=lat, map_id=id),
color="black")
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$group), fill=factor(wards_map$group), alpha=0.3)
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color="darkblue")
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill="white", size=0.25)
gg <- gg + geom_map(data=boundary_map, map=boundary_map,
aes(x=long, y=lat, map_id=id),
color="black", size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$group), fill=factor(wards_map$group), alpha=0.3)
gg
head(wards_map)
unique(wards_map$id)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$id), fill=factor(wards_map$id), alpha=0.3)
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$id, levels = c("red","orange","yellow","green","blue","purple","pink","grey")), fill=factor(wards_map$id, levels = c("red","orange","yellow","green","blue","purple","pink","grey")), alpha=0.3)
gg
factor(wards_map$id)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$id), fill=factor(wards_map$id), alpha=0.3)+
scale_color_manual(values = c("red","orange","yellow","green","blue","purple","pink","grey"))
gg
factor(wards_map$id)
unique(factor(wards_map$id))
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$id), fill=factor(wards_map$id), alpha=0.3)+
scale_color_manual(values = c(0="red",1="orange",2="yellow",3="green",4="blue",5="purple",6="pink",7="grey"))
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=factor(wards_map$id), fill=factor(wards_map$id), alpha=0.3)+
scale_color_manual(values = c("0"="red","1"="orange","2"="yellow","3"="green","4"="blue","5"="purple","6"="pink","7"="grey"))
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=wards_map$id, fill=wards_map$id, alpha=0.3)+
scale_color_manual(values = c("0"="red","1"="orange","2"="yellow","3"="green","4"="blue","5"="purple","6"="pink","7"="grey"))
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=wards_map$id, fill=wards_map$id, alpha=0.3)
gg
head(wards_map)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=wards_map$group, fill=wards_map$group, alpha=0.3)+
scale_color_manual(values = c("0"="red","1"="orange","2"="yellow","3"="green","4"="blue","5"="purple","6"="pink","7"="grey"))
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=wards_map$group, alpha=0.3)
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=wards_map$group, fill=wards_map$group, size=0.25, alpha=0.3)
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=wards_map$group, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0"="red","1"="orange","2"="yellow","3"="green","4"="blue","5"="purple","6"="pink","7"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color="darkblue")
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill="white", size=0.25)
gg <- gg + geom_map(data=boundary_map, map=boundary_map,
aes(x=long, y=lat, map_id=id),
color="black", size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0"="red","1"="orange","2"="yellow","3"="green","4"="blue","5"="purple","6"="pink","7"="grey"))
gg
unique(wards_map$group)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill="white", size=0.25)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
gg <- gg + geom_map(data=boundary_map, map=boundary_map,
aes(x=long, y=lat, map_id=id),
color="black", size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
hh
gg
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
ggsave(gg,"dc map test v1 20191110.png",width=6,height=6,units="in")
ggsave(gg,"dc map test v1 20191110.png",width=6,height=6,units="in")
ggsave("dc map test v1 20191110.png",width=6,height=6,units="in")
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
install.packages(c('rgeos','scales','rasterVis','raster'))
library(dplyr)
library(ggplot2)
library(raster)
library(rasterVis)
library(scales)
library(rgeos)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
setwd("/Users/quinnx/Documents/GitHub/crimeR/crimeR")
library(tidyverse)
library(lubridate)
library(jsonlite)
library(magrittr)
library(httr)
library(maps)
library(ggmap)
library(geojsonio)
library(sf)
library(maptools)
library(rgdal)
library(tigris)
library(ggthemes)
gg <- ggplot()
gg <- gg + geom_map(data=wards_map, map=wards_map,
aes(x=long, y=lat, map_id=id), color=NA, fill=wards_map$group, size=0.25, alpha=0.3)+
scale_color_manual(values = c("0.1"="red","1.1"="orange","2.1"="yellow","3.1"="green","4.1"="blue","5.1"="purple","6.1"="pink","7.1"="grey"))
gg <- gg + geom_map(data=water_map, map=water_map,
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)
gg <- gg + geom_map(data=roads_map, map=roads_map,
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
gg <- gg + coord_map()
gg <- gg + theme_map()
gg
crimes = outDF_formatted %>% filter(offense=='HOMICIDE')
crimes
head(crimes)
ggmap(gg, base_layer = gg) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)+ +
facet_wrap(~year, ncol = 3)
head(wards_map)
head(water_map)
head(roads_map)
mapdata = bind_rows(wards_map %>% mutate(m='wards'), water_map %>% mutate(m='water'), roads_map %>% mutate(m='roads'))
head(mapdata)
ggmap(mapdata, base_layer = gg) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)+ +
facet_wrap(~year, ncol = 3)
head(mapdata)
st_map <- map_data("state")
set.seed(2017-12-19)
data_frame(
lat = sample(st_map$lat, 30),
lng = sample(st_map$long, 30),
level = rep(c("A", "B", "C"), 10)
) -> points_df
ggplot() +
geom_path(data=st_map, aes(long, lat, group=group), size=0.25) + # basemap
geom_point(data=points_df, aes(lng, lat, color=level)) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~level) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme_ipsum(grid="") +
theme(axis.text=element_blank()) +
theme(legend.position="none")
v
library(hrbrthemes)
install.packages('hrbrthemes')
library(hrbrthemes)
st_map <- map_data("state")
set.seed(2017-12-19)
data_frame(
lat = sample(st_map$lat, 30),
lng = sample(st_map$long, 30),
level = rep(c("A", "B", "C"), 10)
) -> points_df
ggplot() +
geom_path(data=st_map, aes(long, lat, group=group), size=0.25) + # basemap
geom_point(data=points_df, aes(lng, lat, color=level)) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~level) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme_ipsum(grid="") +
theme(axis.text=element_blank()) +
theme(legend.position="none")
ggplot() +
geom_path(data=st_map, aes(long, lat, group=group), size=0.25) + # basemap
geom_point(data=points_df, aes(lng, lat, color=level)) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~level) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme(axis.text=element_blank()) +
theme(legend.position="none")
ggplot() +
geom_path(data=gg, aes(long, lat, group=group), size=0.25) + # basemap
geom_point(data=points_df, aes(lng, lat, color=level)) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~level) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme(axis.text=element_blank()) +
theme(legend.position="none")
head(st_map)
str(st_map)
st_map <- mapdata
set.seed(2017-12-19)
data_frame(
lat = sample(st_map$lat, 30),
lng = sample(st_map$long, 30),
level = rep(c("A", "B", "C"), 10)
) -> points_df
ggplot() +
geom_path(data=st_map, aes(long, lat, group=group), size=0.25) + # basemap
geom_point(data=points_df, aes(lng, lat, color=level)) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~level) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme(axis.text=element_blank()) +
theme(legend.position="none")
ggplot() +
geom_path(data=st_map, aes(long, lat, group=group), size=0.25) + # basemap
geom_point(data=crimes, aes(long, lat, color="red")) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~year) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme(axis.text=element_blank()) +
theme(legend.position="none")
head(crimes)
ggplot() +
geom_path(data=st_map, aes(long, lat, group=group), size=0.25) + # basemap
geom_point(data=crimes, aes(longitude, latitude, color="red")) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~year) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme(axis.text=element_blank()) +
theme(legend.position="none")
ggplot() +
geom_path(data=st_map, aes(long, lat, group=group), size=0.25) + gg + # basemap
geom_point(data=crimes, aes(longitude, latitude, color="red")) +         # add our points layer
coord_map("polyconic") +                                         # for funsies
facet_wrap(~year) +                                             # NEVER use a fully qualified column unless you know what you're doing
labs(x=NULL, y=NULL) +
theme(axis.text=element_blank()) +
theme(legend.position="none")
ggmap(mapdata, base_layer = gg) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)+ +
facet_wrap(~year, ncol = 3)
head(mapdata)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill=group, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water') %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
head(mapdata)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill=.$group, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water') %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill=mapdata %>% filter(m=='wards') %>% .$group, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water') %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill=mapdata %>% filter(m=='wards') %>% .$group, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water') %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)
+ coord_map()
+ theme_map()
+ facet_wrap(~year)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill=mapdata %>% filter(m=='wards') %>% .$group, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water') %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)+ coord_map()+ theme_map()+ facet_wrap(~year)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill=mapdata %>% filter(m=='wards') %>% .$group, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water') %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)+ coord_map()+ facet_wrap(~year)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill= .$group, size=0.25, alpha=0.3)
ggplot() +
mapdata %>%
geom_map(data=. %>% filter(m=='wards'), map=. %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill= . %>% filter(m=='wards') %>% .$group, size=0.25, alpha=0.3)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id), color=NA, fill= group, size=0.25, alpha=0.3)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id, fill= group), color=NA, size=0.25, alpha=0.3)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id, fill= group), color=NA, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)+ coord_map()+ facet_wrap(~year)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id, fill= group), color=NA, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.2)+ coord_map()+ theme_map() + facet_wrap(~year)
###
mapdata = bind_rows(wards_map %>% mutate(m='wards'), water_map %>% mutate(m='water'), roads_map %>% mutate(m='roads')) %>%
mutate(year = ifelse(year=='Last 30 Days','2019',year))
crimes = outDF_formatted %>% filter(offense=='HOMICIDE') %>%
mutate(year = ifelse(year=='Last 30 Days','2019',year))
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id, fill= group), color=NA, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.1)+ coord_map()+ theme_map() + facet_wrap(~year, ncol=4)
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id, fill= group), color=NA, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
aes(x=long, y=lat, map_id=id),
color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.1)+ coord_map()+ theme_map() + facet_wrap(~year, ncol=4) +
theme(legend.position="none")
ggplot() +
geom_map(data=mapdata %>% filter(m=='wards'), map=mapdata %>% filter(m=='wards'),
aes(x=long, y=lat, map_id=id, fill= group), color=NA, size=0.25, alpha=0.3)+
geom_map(data=mapdata %>% filter(m=='water'), map=mapdata %>% filter(m=='water'),
aes(x=long, y=lat, map_id=id),fill="darkblue",color=NA)+
# geom_map(data=mapdata %>% filter(m=='roads'), map=mapdata %>% filter(m=='roads'),
#                     aes(x=long, y=lat, map_id=id),
#                     color="black", fill=NA, size=0.25) +
geom_point(data = crimes,
mapping = aes(x = longitude, y = latitude),
color="red", size=0.1)+ coord_map()+ theme_map() + facet_wrap(~year, ncol=4) +
theme(legend.position="none")
